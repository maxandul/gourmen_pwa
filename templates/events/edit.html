{% extends "base.html" %}

{% block title %}Event bearbeiten - {{ event.event_typ.value }} - Gourmen{% endblock %}

{% block head %}
{{ super() }}
<script src="{{ url_for('static', filename='js/places-autocomplete.js') }}"></script>
{% endblock %}

{% block content %}
<div class="container">
    <div class="welcome-section">
        <h1>Event bearbeiten: {{ event.event_typ.value }} - {{ event.display_date }}</h1>
        <a href="{{ url_for('events.detail', event_id=event.id) }}" class="btn btn-secondary">‚Üê Zur√ºck zu Event-Details</a>
    </div>
    
    <div class="form-container">
        <form method="POST" class="form">
            {{ form.hidden_tag() }}
            
            <div class="form-group">
                {{ form.datum.label }}
                {{ form.datum(class="form-control", type="date") }}
                {% if form.datum.errors %}
                <div class="error">{{ form.datum.errors[0] }}</div>
                {% endif %}
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    {{ form.event_typ.label }}
                    {{ form.event_typ(class="form-control") }}
                    {% if form.event_typ.errors %}
                    <div class="error">{{ form.event_typ.errors[0] }}</div>
                    {% endif %}
                </div>
                
                <div class="form-group">
                    {{ form.organisator_id.label }}
                    {{ form.organisator_id(class="form-control") }}
                    {% if form.organisator_id.errors %}
                    <div class="error">{{ form.organisator_id.errors[0] }}</div>
                    {% endif %}
                    <small class="form-help">Organisatoren k√∂nnen sich hier austauschen</small>
                </div>
            </div>
            
            <!-- Restaurant Section -->
            <div class="card">
                <h3>üçΩÔ∏è Restaurant & Location</h3>
                
                <div class="form-group">
                    {{ form.restaurant.label }}
                    {{ form.restaurant(class="form-control", placeholder="Restaurant-Name eingeben f√ºr Autocomplete...") }}
                    {% if form.restaurant.errors %}
                    <div class="error">{{ form.restaurant.errors[0] }}</div>
                    {% endif %}
                    <small class="form-help">Tippe mindestens 2 Zeichen f√ºr Restaurant-Vorschl√§ge</small>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        {{ form.kueche.label }}
                        {{ form.kueche(class="form-control", placeholder="z.B. Italienisch, Asiatisch") }}
                        {% if form.kueche.errors %}
                        <div class="error">{{ form.kueche.errors[0] }}</div>
                        {% endif %}
                    </div>
                    
                    <div class="form-group">
                        {{ form.website.label }}
                        {{ form.website(class="form-control", placeholder="https://...") }}
                        {% if form.website.errors %}
                        <div class="error">{{ form.website.errors[0] }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Additional Info -->
            <div class="card">
                <h3>üìù Zus√§tzliche Informationen</h3>
                
                <div class="form-group">
                    {{ form.notizen.label }}
                    {{ form.notizen(class="form-control", rows="4", placeholder="Reservationsdetails, besondere Hinweise...") }}
                    {% if form.notizen.errors %}
                    <div class="error">{{ form.notizen.errors[0] }}</div>
                    {% endif %}
                </div>
            </div>
            
            <!-- Hidden Google Places Fields -->
            <div style="display: none;">
                {{ form.place_id() }}
                {{ form.place_name() }}
                {{ form.place_address() }}
                {{ form.place_lat() }}
                {{ form.place_lng() }}
                {{ form.place_types() }}
                {{ form.place_website() }}
                {{ form.place_maps_url() }}
                {{ form.place_price_level() }}
                {{ form.place_street_number() }}
                {{ form.place_route() }}
                {{ form.place_postal_code() }}
                {{ form.place_locality() }}
                {{ form.place_country() }}
            </div>
            
            <div class="form-actions">
                {{ form.submit(class="btn btn-primary") }}
            </div>
        </form>
    </div>
</div>
{% endblock %} 