{% extends "base.html" %}

{% block title %}Admin - Gourmen{% endblock %}

{% block content %}
<div class="container">
    <div class="page-header">
        <h1>âš™ï¸ Admin-Bereich</h1>
        <p class="page-subtitle">Verwaltung und Systemsteuerung</p>
    </div>
    
    <div class="page-content">
        <!-- Mitgliederverwaltung Card -->
        <div class="card">
            <div class="card-header">
                <h2>ğŸ‘¥ Mitgliederverwaltung</h2>
            </div>
            <div class="card-body">
                <div class="card card-secondary variant-info">
                    <div class="card-header">
                        <h3>ğŸ‘¤ Mitglieder verwalten</h3>
                    </div>
                    <div class="card-body">
                        <div class="stats-item">
                            <span class="label">Aktive Mitglieder:</span>
                            <span class="value">{{ members_count or 0 }}</span>
                        </div>
                        <div class="stats-item">
                            <span class="label">Admins:</span>
                            <span class="value">{{ admins_count or 0 }}</span>
                        </div>
                        <div class="stats-item">
                            <span class="label">Letzte AktivitÃ¤t:</span>
                            <span class="value">Heute</span>
                        </div>
                        
                        <div class="card-actions primary">
                            <a href="{{ url_for('admin.members') }}" class="btn btn-primary">ğŸ‘¥ Mitglieder verwalten</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Merch-Verwaltung Card -->
        <div class="card">
            <div class="card-header">
                <h2>ğŸ›ï¸ Merch-Verwaltung</h2>
            </div>
            <div class="card-body">
                <div class="card card-secondary variant-accent">
                    <div class="card-header">
                        <h3>ğŸ“¦ Merch-Shop verwalten</h3>
                    </div>
                    <div class="card-body">
                        <div class="stats-item">
                            <span class="label">VerfÃ¼gbare Artikel:</span>
                            <span class="value">{{ active_articles_count or 0 }}</span>
                        </div>
                        <div class="stats-item">
                            <span class="label">Offene Bestellungen:</span>
                            <span class="value">{{ pending_orders_count or 0 }}</span>
                        </div>
                        <div class="stats-item">
                            <span class="label">Gesamtumsatz (Gewinn):</span>
                            <span class="value">{{ "%.2f"|format(total_revenue_chf or 0) }} CHF</span>
                        </div>
                        
                        <div class="card-actions primary">
                            <a href="{{ url_for('admin.merch') }}" class="btn btn-primary">ğŸ›ï¸ Merch verwalten</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Event-Verwaltung Card -->
        <div class="card">
            <div class="card-header">
                <h2>ğŸ“… Event-Verwaltung</h2>
            </div>
            <div class="card-body">
                <div class="card card-secondary variant-success">
                    <div class="card-header">
                        <h3>ğŸ‰ Events verwalten</h3>
                    </div>
                    <div class="card-body">
                        <div class="stats-item">
                            <span class="label">Kommende Events:</span>
                            <span class="value">{{ upcoming_events_count or 0 }}</span>
                        </div>
                        <div class="stats-item">
                            <span class="label">Diese Saison:</span>
                            <span class="value">{{ current_season_events or 0 }}</span>
                        </div>
                        
                        <div class="card-actions primary">
                            <a href="{{ url_for('events.index') }}" class="btn btn-primary">ğŸ“… Events verwalten</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- System-Status Card -->
        <div class="card">
            <div class="card-header">
                <h2>ğŸ”§ System-Status</h2>
            </div>
            <div class="card-body">
                <div class="card card-secondary variant-info">
                    <div class="card-header">
                        <h3>ğŸ“Š System-Ãœbersicht</h3>
                    </div>
                    <div class="card-body">
                        <div class="stats-item">
                            <span class="label">Datenbank:</span>
                            <span class="value">âœ… Online</span>
                        </div>
                        <div class="stats-item">
                            <span class="label">Service Worker:</span>
                            <span class="value">âœ… Aktiv</span>
                        </div>
                        <div class="stats-item">
                            <span class="label">Push-Notifications:</span>
                            <span class="value">âœ… VerfÃ¼gbar</span>
                        </div>
                        
                        <div class="card-actions primary">
                            <a href="{{ url_for('docs.index') }}" class="btn btn-outline">ğŸ” System-Status</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Sicherheit Card -->
        <div class="card">
            <div class="card-header">
                <h2>ğŸ”’ Sicherheit</h2>
            </div>
            <div class="card-body">
                <div class="card card-secondary variant-warning">
                    <div class="card-header">
                        <h3>ğŸ›¡ï¸ Sicherheits-Ãœbersicht</h3>
                    </div>
                    <div class="card-body">
                        <div class="stats-item">
                            <span class="label">Audit-Events:</span>
                            <span class="value">{{ audit_events_count or 0 }}</span>
                        </div>
                        <div class="stats-item">
                            <span class="label">Letzte PrÃ¼fung:</span>
                            <span class="value">Heute</span>
                        </div>
                        
                        <div class="card-actions primary">
                            <a href="{{ url_for('admin.members') }}" class="btn btn-warning">ğŸ” Audit-Log</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Schnellzugriff Card -->
        <div class="card">
            <div class="card-header">
                <h2>âš¡ Schnellzugriff</h2>
            </div>
            <div class="card-body">
                <div class="card card-secondary variant-accent">
                    <div class="card-header">
                        <h3>ğŸš€ HÃ¤ufige Aktionen</h3>
                    </div>
                    <div class="card-body">
                        <div class="quick-actions">
                            <a href="{{ url_for('admin.members') }}" class="btn btn-primary">â• Neues Mitglied</a>
                            <a href="{{ url_for('events.index') }}" class="btn btn-primary">ğŸ“… Neues Event</a>
                            <a href="{{ url_for('admin.merch_articles') }}" class="btn btn-primary">ğŸ›ï¸ Neuer Artikel</a>
                            <a href="{{ url_for('docs.index') }}" class="btn btn-outline">ğŸ’¾ Backup</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
