{% extends "base.html" %}
{% set use_v2_design = True %}

{% block title %}Admin - Gourmen{% endblock %}

{% block content %}
<div class="container">
  <div class="page-header">
    <h1>
      <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
        <use href="/static/icons/lucide-sprite.svg#settings"></use>
      </svg>
      Admin-Bereich
    </h1>
    <p class="page-subtitle">Verwaltung und Systemsteuerung</p>
  </div>

  <div class="page-content hub-grid">
    <div class="card hub-card">
      <div class="card__header">
        <h2 class="card__title">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <use href="/static/icons/lucide-sprite.svg#users"></use>
          </svg>
          Mitgliederverwaltung
        </h2>
      </div>
      <div class="card__body">
        <div class="info-row">
          <span class="info-row__label">Aktive Mitglieder</span>
          <span class="info-row__value">{{ members_count or 0 }}</span>
        </div>
        <div class="info-row">
          <span class="info-row__label">Admins</span>
          <span class="info-row__value">{{ admins_count or 0 }}</span>
        </div>
        <div class="info-row">
          <span class="info-row__label">Letzte Aktivität</span>
          <span class="info-row__value">Heute</span>
        </div>
      </div>
      <div class="card__footer">
        <a href="{{ url_for('admin.members') }}" class="btn btn--primary">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <use href="/static/icons/lucide-sprite.svg#user-cog"></use>
          </svg>
          Mitglieder verwalten
        </a>
      </div>
    </div>

    <div class="card hub-card">
      <div class="card__header">
        <h2 class="card__title">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <use href="/static/icons/lucide-sprite.svg#shopping-bag"></use>
          </svg>
          Merch-Verwaltung
        </h2>
      </div>
      <div class="card__body">
        <div class="info-row">
          <span class="info-row__label">Verfügbare Artikel</span>
          <span class="info-row__value">{{ active_articles_count or 0 }}</span>
        </div>
        <div class="info-row">
          <span class="info-row__label">Offene Bestellungen</span>
          <span class="info-row__value">{{ pending_orders_count or 0 }}</span>
        </div>
        <div class="info-row">
          <span class="info-row__label">Gesamtumsatz (Gewinn)</span>
          <span class="info-row__value">{{ "%.2f"|format(total_revenue_chf or 0) }} CHF</span>
        </div>
      </div>
      <div class="card__footer">
        <a href="{{ url_for('admin.merch') }}" class="btn btn--primary">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <use href="/static/icons/lucide-sprite.svg#shopping-cart"></use>
          </svg>
          Merch verwalten
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
